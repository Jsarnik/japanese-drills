{"ast":null,"code":"import _objectSpread from\"/Users/jsarnik-a/Documents/Projects/learn-japanese/web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from'react';import useForm from\"./useForm\";import validate from'./useValidation';import{useDispatch,useSelector}from\"react-redux\";import*as cardActions from'../actions/cardActions';import*as _ from'lodash';import Select from'@material-ui/core/Select';import MenuItem from'@material-ui/core/MenuItem';import Input from'@material-ui/core/Input';import Button from'@material-ui/core/Button';import DeleteIcon from'@material-ui/icons/Delete';import Card from'@material-ui/core/Card';import CardActions from'@material-ui/core/CardActions';import CardContent from'@material-ui/core/CardContent';import FormLabel from'@material-ui/core/FormLabel';function Form(_ref){var card=_ref.card,submitFn=_ref.submitFn,deleteCardFn=_ref.deleteCardFn;var _useForm=useForm(submit,validate,card),errors=_useForm.errors,values=_useForm.values,handleChange=_useForm.handleChange,handleSubmit=_useForm.handleSubmit,handleClearValues=_useForm.handleClearValues;console.log(card);function submit(){submitFn(values).then(function(res){handleSubmitReset();}).catch(function(err){handleSubmitReset();});}function handleSubmitReset(){handleClearValues();}return React.createElement(\"form\",{id:\"addCardForm\",onSubmit:handleSubmit},React.createElement(Card,{style:{margin:\"50px 0px\"}},React.createElement(CardContent,null,React.createElement(\"div\",null,React.createElement(FormLabel,null,\"type:\"),React.createElement(Select,{labelId:\"Type\",id:\"type-select\",value:values.type||'',name:\"type\",onChange:handleChange},React.createElement(MenuItem,{value:'phrase'},\"Phrase\"),React.createElement(MenuItem,{value:'question'},\"Question\"),React.createElement(MenuItem,{value:'vocab'},\"Vocab\")),errors.type?React.createElement(\"span\",null,\"Required.\"):null),React.createElement(\"div\",null,React.createElement(FormLabel,null,\"hiragana:\"),React.createElement(Input,{\"aria-label\":\"hiragana\",className:\"\".concat(errors.hiragana?'error':''),type:\"text\",placeholder:\"hiragana\",name:\"hiragana\",onChange:handleChange,value:values.hiragana||''}),errors.hiragana?React.createElement(\"span\",null,\"Required.\"):null),React.createElement(\"div\",null,React.createElement(FormLabel,null,\"no kanji:\"),React.createElement(Input,{\"aria-label\":\"no_kanji\",className:\"\",type:\"text\",placeholder:\"no_kanji\",name:\"no_kanji\",onChange:handleChange,value:values.no_kanji||''}),errors.no_kanji?React.createElement(\"span\",null,\"Required.\"):null),React.createElement(\"div\",null,React.createElement(FormLabel,null,\"romaji:\"),React.createElement(Input,{\"aria-label\":\"romaji\",className:\"\",type:\"text\",placeholder:\"romaji\",name:\"romaji\",onChange:handleChange,value:values.romaji||''}),errors.romaji?React.createElement(\"span\",null,\"Required.\"):null),React.createElement(\"div\",null,React.createElement(FormLabel,null,\"english:\"),React.createElement(Input,{\"aria-label\":\"english\",className:\"\".concat(errors.english?'error':''),type:\"text\",placeholder:\"english\",name:\"english\",onChange:handleChange,value:values.english||''}),errors.english?React.createElement(\"span\",null,\"Required.\"):null)),React.createElement(CardActions,null,React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-evenly',width:'100%'}},React.createElement(\"div\",null,React.createElement(Button,{color:\"secondary\",startIcon:React.createElement(DeleteIcon,null),onClick:function onClick(){return deleteCardFn(card);}},\"Delete\")),React.createElement(\"div\",null,React.createElement(Button,{style:{float:'right'},color:\"primary\",\"aria-label\":\"submit\",type:\"submit\",htmltype:\"submit\",className:\"submit-button\"},\"Save\"))))));}function EditCards(){var data=useSelector(function(state){return state.cards;});var dispatch=useDispatch();var submitFn=function submitFn(values){return dispatch(cardActions.updateCard(values));};var deleteCardFn=function deleteCardFn(_card){return dispatch(cardActions.deleteCard(_card));};useEffect(function(){dispatch(cardActions.getCards());},[]);return data?React.createElement(\"div\",null,_.map(data,function(c,k){return React.createElement(Form,{card:_objectSpread({},c),key:k,submitFn:submitFn,deleteCardFn:deleteCardFn});})):null;}export default EditCards;","map":{"version":3,"sources":["/Users/jsarnik-a/Documents/Projects/learn-japanese/web/src/components/EditCards.js"],"names":["React","useState","useEffect","useForm","validate","useDispatch","useSelector","cardActions","_","Select","MenuItem","Input","Button","DeleteIcon","Card","CardActions","CardContent","FormLabel","Form","card","submitFn","deleteCardFn","submit","errors","values","handleChange","handleSubmit","handleClearValues","console","log","then","res","handleSubmitReset","catch","err","margin","type","hiragana","no_kanji","romaji","english","display","justifyContent","width","float","EditCards","data","state","cards","dispatch","updateCard","_card","deleteCard","getCards","map","c","k"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport useForm from \"./useForm\";\nimport validate from './useValidation';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as cardActions from '../actions/cardActions';\nimport * as _ from 'lodash';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nfunction Form({card, submitFn, deleteCardFn}){\n    const { errors, values, handleChange, handleSubmit, handleClearValues } = useForm(submit, validate, card);\n\n    console.log(card)\n\n    function submit(){\n        submitFn(values).then(res=>{\n            handleSubmitReset();\n        }).catch(err =>{\n            handleSubmitReset();\n        });\n    }\n\n    function handleSubmitReset(){\n        handleClearValues();\n    }\n    return (\n        <form id=\"addCardForm\" onSubmit={handleSubmit}>\n            <Card style={{margin: \"50px 0px\"}} >\n                <CardContent>\n                    <div>\n                        <FormLabel>type:</FormLabel>\n                        <Select\n                            labelId=\"Type\"\n                            id=\"type-select\"\n                            value={values.type || ''}\n                            name=\"type\"\n                            onChange={handleChange}\n                        >\n                            <MenuItem value={'phrase'}>Phrase</MenuItem>\n                            <MenuItem value={'question'}>Question</MenuItem>\n                            <MenuItem value={'vocab'}>Vocab</MenuItem>\n                        </Select>\n                        {\n                            errors.type ? \n                                <span>Required.</span>\n                            :\n                                null\n                        }\n                    </div>\n                    <div>\n                        <FormLabel>hiragana:</FormLabel>\n                        <Input aria-label=\"hiragana\" className={`${errors.hiragana ? 'error' : ''}`} type=\"text\" placeholder=\"hiragana\" name=\"hiragana\" onChange={handleChange} value={values.hiragana || ''} />\n                        {\n                            errors.hiragana ? \n                                <span>Required.</span>\n                            :\n                                null\n                        }\n                    </div>\n\n                    <div>\n                        <FormLabel>no kanji:</FormLabel>\n                        <Input aria-label=\"no_kanji\" className=\"\" type=\"text\" placeholder=\"no_kanji\" name=\"no_kanji\" onChange={handleChange} value={values.no_kanji || ''} />\n                        {\n                            errors.no_kanji ? \n                                <span>Required.</span>\n                            :\n                                null\n                        }\n                    </div>\n\n                    <div>\n                        <FormLabel>romaji:</FormLabel>\n                        <Input aria-label=\"romaji\" className=\"\" type=\"text\" placeholder=\"romaji\" name=\"romaji\" onChange={handleChange} value={values.romaji || ''} />\n                        {\n                            errors.romaji ? \n                                <span>Required.</span>\n                            :\n                                null\n                        }\n                    </div>\n\n                    <div>\n                        <FormLabel>english:</FormLabel>\n                        <Input aria-label=\"english\" className={`${errors.english ? 'error' : ''}`} type=\"text\" placeholder=\"english\" name=\"english\" onChange={handleChange} value={values.english || ''} />\n                        {\n                            errors.english ? \n                                <span>Required.</span>\n                            :\n                                null\n                        }\n                    </div>\n              \n                </CardContent>\n                <CardActions>\n                    <div style={{display: 'flex', justifyContent:'space-evenly', width: '100%'}}>\n                        <div>\n                            <Button\n                                color=\"secondary\"\n                                startIcon={<DeleteIcon />}\n                                onClick={()=>deleteCardFn(card)}\n                            >\n                                Delete\n                            </Button>\n                        </div>\n                        <div>\n                            <Button style={{float: 'right'}} color=\"primary\" aria-label=\"submit\" type=\"submit\" htmltype=\"submit\" className=\"submit-button\">\n                                Save\n                            </Button>\n                        </div>\n                    </div>\n                </CardActions>\n            </Card>\n        </form>\n    )\n}\n\nfunction EditCards() {\n    const data = useSelector(state => state.cards);\n    const dispatch = useDispatch();\n    const submitFn = (values) =>  dispatch(cardActions.updateCard(values));\n    const deleteCardFn = (_card) =>  dispatch(cardActions.deleteCard(_card));\n\n    useEffect(()=>{\n        dispatch(cardActions.getCards());\n    },[]);\n\n    return data ? (\n        <div>\n        {\n            _.map(data, (c, k) => {\n                return (<Form card={{...c}} key={k} submitFn={submitFn} deleteCardFn={deleteCardFn}></Form>)\n            })\n        }\n        </div>\n    ) : null\n}\n\nexport default EditCards;"]},"metadata":{},"sourceType":"module"}