{"ast":null,"code":"import _slicedToArray from\"/Users/jsarnik-a/Documents/Projects/learn-japanese/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/jsarnik-a/Documents/Projects/learn-japanese/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from'react';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import HelpOutlineIcon from'@material-ui/icons/HelpOutline';import QuestionAnswerIcon from'@material-ui/icons/QuestionAnswer';import VisibilityIcon from'@material-ui/icons/Visibility';import VisibilityOffIcon from'@material-ui/icons/VisibilityOff';import TranslateIcon from'@material-ui/icons/Translate';import Divider from'@material-ui/core/Divider';import Player from'./Player';import*as _ from'lodash';var defaultKeyShow='hiragana';var BASE_URI='http://japanese-drills.s3.amazonaws.com/audio/';function QuestionsAndAnswers(_ref){var data=_ref.data;var filtered=_.filter(_objectSpread({},data),function(o){return o.katakana!==null;});var _useState=useState({index:-1,type:''}),_useState2=_slicedToArray(_useState,2),selectedItem=_useState2[0],setSelectedItem=_useState2[1];function handleClick(val){setSelectedItem(val);}return React.createElement(List,null,React.createElement(Items,{data:filtered,handleClick:handleClick,selectedItem:selectedItem}));}function Items(_ref2){var data=_ref2.data,handleClick=_ref2.handleClick,selectedItem=_ref2.selectedItem;return data.map(function(item,i){return React.createElement(\"div\",{key:i,className:\"question-container\",style:{display:'flex',justifyContent:'space-between'}},React.createElement(Questions,{questions:item.question,index:i}),item.answer?React.createElement(Answers,{answers:item.answer,index:i}):null,React.createElement(Divider,{light:true}));});}function Questions(_ref3){var questions=_ref3.questions,index=_ref3.index;var audioUrl=questions.audio?questions.audio.indexOf('http')!==-1?questions.audio:\"\".concat(BASE_URI).concat(questions.audio):null;return React.createElement(\"div\",{className:\"question\"},React.createElement(ListItem,{button:true,className:'voice-button'},React.createElement(ListItemIcon,null,React.createElement(HelpOutlineIcon,null)),React.createElement(ListItemText,{primary:\"\".concat(questions[defaultKeyShow])}),audioUrl?React.createElement(Player,{url:audioUrl}):null),React.createElement(Translations,{values:questions,index:index}));}function Answers(_ref4){var answers=_ref4.answers,index=_ref4.index;var audioUrl=answers.audio?answers.audio.indexOf('http')!==-1?answers.audio:\"\".concat(BASE_URI).concat(answers.audio):null;return React.createElement(\"div\",{className:\"answer\"},React.createElement(ListItem,{button:true,className:'voice-button'},React.createElement(ListItemIcon,null,React.createElement(QuestionAnswerIcon,null)),React.createElement(ListItemText,{primary:\"\".concat(answers[defaultKeyShow])}),audioUrl?React.createElement(Player,{url:audioUrl}):null),React.createElement(Translations,{values:answers,index:index}));}function Translations(_ref5){var values=_ref5.values,index=_ref5.index;var _useState3=useState({index:-1,type:''}),_useState4=_slicedToArray(_useState3,2),selectedItem=_useState4[0],setSelectedItem=_useState4[1];return _.map(values,function(val,key){if(key!=='katakana'&&key!==defaultKeyShow&&key!=='audio'){var isSelected=selectedItem.index===index&&selectedItem.type===key,selectModel={index:index,type:key};return React.createElement(ListItem,{className:\"\".concat(isSelected?'selected':''),button:true,onClick:function onClick(){setSelectedItem(isSelected?{}:selectModel);}},React.createElement(ListItemIcon,null,React.createElement(TranslateIcon,null)),React.createElement(ListItemText,{primary:\"\".concat(isSelected?val:key)}),isSelected?React.createElement(VisibilityIcon,null):React.createElement(VisibilityOffIcon,null));}});}export default QuestionsAndAnswers;","map":{"version":3,"sources":["/Users/jsarnik-a/Documents/Projects/learn-japanese/src/components/QuestionsAndAnswers.js"],"names":["React","useState","useEffect","List","ListItem","ListItemIcon","ListItemText","HelpOutlineIcon","QuestionAnswerIcon","VisibilityIcon","VisibilityOffIcon","TranslateIcon","Divider","Player","_","defaultKeyShow","BASE_URI","QuestionsAndAnswers","data","filtered","filter","o","katakana","index","type","selectedItem","setSelectedItem","handleClick","val","Items","map","item","i","display","justifyContent","question","answer","Questions","questions","audioUrl","audio","indexOf","Answers","answers","Translations","values","key","isSelected","selectModel"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport Divider from '@material-ui/core/Divider';\nimport Player from './Player';\nimport * as _ from 'lodash';\n\nconst defaultKeyShow = 'hiragana';\nconst BASE_URI = 'http://japanese-drills.s3.amazonaws.com/audio/';\n\nfunction QuestionsAndAnswers({data}){\n    const filtered = _.filter({...data}, o=>{\n        return o.katakana !== null;\n    })\n    const [selectedItem, setSelectedItem] = useState({index: -1, type: ''});\n\n    function handleClick(val){\n        setSelectedItem(val);\n    }\n\n    return (\n        <List>\n            <Items data={filtered} handleClick={handleClick} selectedItem={selectedItem}></Items>\n        </List>\n    )\n}\n\nfunction Items({data, handleClick, selectedItem}){\n    return data.map((item, i) => {\n        return (\n            <div key={i} className=\"question-container\" style={{display: 'flex', justifyContent: 'space-between'}}>\n                    <Questions questions={item.question} index={i}></Questions>\n                {\n                    item.answer ? \n                        <Answers answers={item.answer} index={i}></Answers>\n                    :\n                        null\n                }\n                <Divider light />\n            </div>\n        )\n    });\n}\n\nfunction Questions({questions, index}){\n    const audioUrl = questions.audio ? questions.audio.indexOf('http') !== -1 ? questions.audio : `${BASE_URI}${questions.audio}` : null;\n    return (\n        <div className=\"question\">\n            <ListItem button className={'voice-button'}>\n                <ListItemIcon>\n                    <HelpOutlineIcon/>\n                </ListItemIcon>\n                <ListItemText primary={`${questions[defaultKeyShow]}`}/>\n                {\n                    audioUrl ?\n                        <Player url={audioUrl}></Player>\n                    :\n                        null\n                }\n            </ListItem>\n            <Translations values={questions} index={index}></Translations>\n        </div>\n    )\n}\n\nfunction Answers({answers, index}){\n    const audioUrl = answers.audio ? answers.audio.indexOf('http') !== -1 ? answers.audio : `${BASE_URI}${answers.audio}` : null;\n    return (\n        <div className=\"answer\">\n            <ListItem button className={'voice-button'}>\n                <ListItemIcon>\n                    <QuestionAnswerIcon/>\n                </ListItemIcon>\n                <ListItemText primary={`${answers[defaultKeyShow]}`}/>\n                {\n                    audioUrl ?\n                        <Player url={audioUrl}></Player>\n                    :\n                        null\n                }\n            </ListItem>\n            <Translations values={answers} index={index}></Translations>\n        </div>\n    )\n}\n\nfunction Translations({values, index}){\n    const [selectedItem, setSelectedItem] = useState({index: -1, type: ''});\n\n    return _.map(values, (val, key) => {\n        if(key !== 'katakana' && key !== defaultKeyShow && key !== 'audio'){\n            let isSelected = selectedItem.index === index && selectedItem.type === key,\n                selectModel = {index: index, type: key};\n\n            return (\n                <ListItem className={`${isSelected ? 'selected' : ''}`} button onClick={()=>{setSelectedItem(isSelected ? {} : selectModel)}}>\n                    <ListItemIcon>\n                        <TranslateIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={`${isSelected ? val : key}`} />\n                    {   \n                        isSelected ?\n                            <VisibilityIcon/>\n                        :\n                            <VisibilityOffIcon/>\n                    }\n                </ListItem>\n            )\n        }\n    })\n}\n\nexport default QuestionsAndAnswers;\n"]},"metadata":{},"sourceType":"module"}