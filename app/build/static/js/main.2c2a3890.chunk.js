(this["webpackJsonplearn-japanese"]=this["webpackJsonplearn-japanese"]||[]).push([[0],{103:function(e,a,t){},126:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),c=t.n(l),i=t(32),o=t(10),u=t(22),s=t(16),m={cards:{}};var d=Object(i.c)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ALL_CARDS_SUCCESS":return a.cards;case"SET_CARD_SUCCESS":return Object(u.a)({},e,Object(o.a)({},a.card._id,a.card));case"GET_ALL_CARDS_FAILURE":default:return e}}}),E=function(e,a){return d(e,a)},f=t(77),h=t.n(f),p=t(78);var b=t(11),v=(t(103),t(54)),g=t(29),j=t(164),y=t(132),C=t(165),O=t(23),S=t.n(O),_=t(174),A=t(159),k=t(163),w=t(166),R=t(17),L={baseApiUri:""},x=t(35),U=t.n(x);function N(e){return{type:"GET_ALL_CARDS_FAILURE",error:e}}function T(e){var a="".concat(L.baseApiUri,"/api/getCards"),t={type:e};return function(e){return new Promise((function(n,r){U.a.post(a,t).then((function(a){var t=a.data,r=t.failed?N(t.failed):{type:"GET_ALL_CARDS_SUCCESS",cards:t};e(r),n(t)})).catch((function(a){e(N(a.message)),r(a.message)}))}))}}function q(e){return{type:"SET_CARD_FAILURE",error:e}}function D(e){return{type:"GET_ALL_CARDS_FAILURE",error:e}}function F(e){return{type:"SET_CARD_FAILURE",error:e}}function I(e){return{type:"SET_CARD_FAILURE",error:e}}function G(e){return{type:"GET_ALL_CARDS_FAILURE",error:e}}var M=function(){var e=Object(R.c)((function(e){return e.cards})),a=Object(R.b)(),t=Object.keys(e).length||0,l=s.filter(e,(function(e){return"phrase"===e.type})).length||0,c=s.filter(e,(function(e){return"question"===e.type})).length||0,i=s.filter(e,(function(e){return"vocab"===e.type})).length||0;function o(e){window.location.href="/flashcards/".concat(e)}return Object(n.useEffect)((function(){a(T())}),[]),r.a.createElement(A.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,{button:!0,onClick:function(){return o("phrase")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"phrases ( japanese -> english )"}),l),r.a.createElement(y.a,{button:!0,onClick:function(){return o("question")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"questions ( japanese -> english )"}),c),r.a.createElement(y.a,{button:!0,onClick:function(){return o("vocab")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"vocab ( japanese -> english )"}),i),r.a.createElement(y.a,{button:!0,onClick:function(){return o("all")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"all ( japanese -> english )"}),t),r.a.createElement(w.a,null),r.a.createElement(y.a,{button:!0,onClick:function(){return o("phrase/e")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"phrases ( english -> japanese )"}),l),r.a.createElement(y.a,{button:!0,onClick:function(){return o("question/e")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"questions ( english -> japanese )"}),c),r.a.createElement(y.a,{button:!0,onClick:function(){return o("vocab/e")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"vocab ( english -> japanese )"}),i),r.a.createElement(y.a,{button:!0,onClick:function(){return o("all/e")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"all ( english -> japanese )"}),t))))},P=t(168),V=t(4),B=t(167),W=t(79),z=t.n(W),J=t(80),Q=t.n(J),K=t(48),$=t(49),H=function(e){var a=e.url,t=e.controls,l=-1===a.indexOf("http")?"http://japanese-drills.s3.amazonaws.com/audio/".concat(a):a,c=function(e){var a=Object(n.useState)(new Audio(e)),t=Object(b.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1];Object(n.useEffect)((function(){null!==r&&(o?r.play():s()),l(new Audio(e)),u(!1)}),[e]);function s(){r.pause(),r.currentTime=0}return Object(n.useEffect)((function(){null!==r&&(o?r.play():s())}),[o]),Object(n.useEffect)((function(){return r.addEventListener("ended",(function(){return u(!1)})),function(){r.removeEventListener("ended",(function(){return u(!1)}))}}),[]),[o,function(){return u(!o)},r]}(l),i=Object(b.a)(c,2),o=i[0],u=i[1],s=Object(n.useRef)(null);return Object(n.useEffect)((function(){s&&s.current&&(s.current.src=l)}),[a]),t?r.a.createElement("audio",{controls:!0,ref:s},r.a.createElement("source",{src:l,type:"audio/mpeg"})):r.a.createElement("div",{onClick:u},o?r.a.createElement(z.a,{style:{color:K.a[500]}}):r.a.createElement(Q.a,{style:{color:$.a[500]}}))},X=t(81),Y=t.n(X),Z=t(56),ee=t.n(Z),ae=t(57),te=t.n(ae),ne=Object(V.a)((function(e){return{root:{color:ee.a.A700,backgroundColor:"#fff","&:hover":{backgroundColor:ee.a[50]}}}}))(B.a),re=Object(V.a)((function(e){return{root:{color:te.a.A700,backgroundColor:"#fff","&:hover":{backgroundColor:te.a[50]}}}}))(B.a);function le(e){var a=e.card,t=e.isMobile,l=e.isEnglishFirst,c=Object(n.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],s=Object(n.useState)(!1),m=Object(b.a)(s,2),d=m[0],E=m[1],f=Object(n.useState)(!1),h=Object(b.a)(f,2),p=h[0],v=h[1];Object(n.useEffect)((function(){u(!1),E(!1),v(!1)}),[a]);var g=l?a.english:a.hiragana,j=l?a.hiragana:a.english;return r.a.createElement("div",null,a.audioUrl?r.a.createElement(H,{url:a.audioUrl,controls:t}):null,r.a.createElement("div",{className:"study-text"},g),p?r.a.createElement("div",{className:"hint-text"},a.no_kanji):r.a.createElement("div",null,r.a.createElement(B.a,{color:"secondary",onClick:function(){return v(!0)}},"Show No Kanji")),d?r.a.createElement("div",{className:"romaji-text"},a.romaji):r.a.createElement("div",null,r.a.createElement(re,{color:"secondary",onClick:function(){return E(!0)}},"Show Romaji")),o?r.a.createElement("div",{className:"answer-text"},j):r.a.createElement("div",null,r.a.createElement(ne,{color:"primary",onClick:function(){return u(!0)}},"Show Answer")))}var ce=Object(g.g)((function(e){var a=Object(R.c)((function(e){return e.cards})),t=Object(R.b)(),l=Object(n.useState)(0),c=Object(b.a)(l,2),i=c[0],o=c[1],m=s.filter(a,(function(e){return!e.isLesson})),d=s.filter(a,(function(e){return e.isLesson}));function E(e){i+1<m.length?e?o(i+1):(f.isLesson=!0,t(function(e){var a="".concat(L.baseApiUri,"/api/setCard"),t={card:e};return function(e){return new Promise((function(n,r){U.a.post(a,t).then((function(a){var t=a.data,r=t.failed?q(t.failed):{type:"SET_CARD_SUCCESS",card:t};e(r),n(t)})).catch((function(a){e(q(a.message)),r(a.message)}))}))}}(f))):o(0)}Object(n.useEffect)((function(){var a="all"===e.match.params.lesson?null:e.match.params.lesson;t(T(a))}),[]);var f=Object(u.a)({},m[i]);return s.isEmpty(f)?r.a.createElement("div",{style:{textAlign:"center",width:"100%"},className:"card-container"},"No Cards"):r.a.createElement("div",{style:{textAlign:"center",width:"100%"},className:"card-container"},d.length>0?r.a.createElement("div",null,r.a.createElement(B.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(Y.a,null),onClick:function(){t(function(e){var a="".concat(L.baseApiUri,"/api/resetLesson");return function(e){return new Promise((function(t,n){U.a.get(a,{}).then((function(a){var n=a.data,r=n.failed?D(n.failed):{type:"GET_ALL_CARDS_SUCCESS",cards:n};e(r),t(n)})).catch((function(a){e(D(a.message)),n(a.message)}))}))}}()),o(0)}},"Reset Lesson")):null,r.a.createElement("div",null,e.match.params.lesson.toUpperCase()),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",marginBottom:"50px"}},r.a.createElement("div",null,r.a.createElement("span",null,i+1)," / ",r.a.createElement("span",{className:"remaining"},m.length," ")," / ",r.a.createElement("span",{className:"finished"},d.length))),r.a.createElement(A.a,null,r.a.createElement(k.a,null,r.a.createElement(le,{card:f,isMobile:e.isMobile,isEnglishFirst:e.isEnglishFirst})),r.a.createElement(P.a,null,r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},r.a.createElement("div",{style:{marginRight:"5px"}},r.a.createElement(B.a,{variant:"contained",color:"primary",onClick:function(){return E(!1)}},"Good")),r.a.createElement("div",{style:{marginLeft:"5px"}},r.a.createElement(B.a,{variant:"contained",color:"secondary",onClick:function(){return E(!0)}},"Revisit"))))))})),ie=function(e,a,t){var r=Object(n.useState)(t),l=Object(b.a)(r,2),c=l[0],i=l[1],s=Object(n.useState)({}),m=Object(b.a)(s,2),d=m[0],E=m[1],f=Object(n.useState)(!1),h=Object(b.a)(f,2),p=h[0],v=h[1];Object(n.useEffect)((function(){0===Object.keys(d).length&&p&&e()}),[d,p]);return{handleClearValues:function(){i({}),v(!1)},handleChange:function(e){e.persist(),v(!1),i((function(a){return Object(u.a)({},a,Object(o.a)({},e.target.name,e.target.value))})),d[e.target.name]&&E(a(Object(u.a)({},c,Object(o.a)({},e.target.name,e.target.value))))},handleSubmit:function(e){e&&e.preventDefault(),v(!0),E(a(c))},values:c,errors:d}};function oe(e){var a={};return e.hiragana||(a.hiragana=!0),e.romaji||(a.romaji=!0),e.english||(a.english=!0),e.type||(a.type=!0),a}var ue=t(173),se=t(170),me=t(169);var de=function(){var e,a=ie((function(){s(function(e){var a="".concat(L.baseApiUri,"/api/addCard");return function(t){return new Promise((function(n,r){U.a.post(a,{card:e}).then((function(e){var a=e.data,r=a.failed?F(a.failed):{type:"SET_CARD_SUCCESS",card:a};t(r),n(a)})).catch((function(e){t(F(e.message)),r(e.message)}))}))}}(l)).then((function(e){E(!0),u()})).catch((function(e){console.log(e)}))}),oe,{}),t=a.errors,l=a.values,c=a.handleChange,i=a.handleSubmit,u=a.handleClearValues,s=Object(R.b)(),m=Object(n.useState)(!1),d=Object(b.a)(m,2),E=(d[0],d[1]);return r.a.createElement("form",{id:"addCardForm",onSubmit:i},r.a.createElement("div",null,r.a.createElement(ue.a,{labelId:"Type",id:"type-select",value:l.type||"",name:"type",onChange:c},r.a.createElement(se.a,{value:"phrase"},"Phrase"),r.a.createElement(se.a,{value:"question"},"Question"),r.a.createElement(se.a,{value:"vocab"},"Vocab")),t.type?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(me.a,{"aria-label":"hiragana",className:"".concat(t.hiragana?"error":""),type:"text",placeholder:"hiragana",name:"hiragana",onChange:c,value:l.hiragana||""}),t.hiragana?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(me.a,{"aria-label":"no_kanji",className:"",type:"text",placeholder:"no_kanji",name:"no_kanji",onChange:c,value:l.no_kanji||""}),t.no_kanji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(me.a,{"aria-label":"romaji",className:"",type:"text",placeholder:"romaji",name:"romaji",onChange:c,value:l.romaji||""}),t.romaji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(me.a,{"aria-label":"english",className:"".concat(t.english?"error":""),type:"text",placeholder:"english",name:"english",onChange:c,value:l.english||""}),t.english?r.a.createElement("span",null,"Required."):null),r.a.createElement(B.a,(e={type:"primary",color:"primary","aria-label":"submit"},Object(o.a)(e,"type","submit"),Object(o.a)(e,"htmltype","submit"),Object(o.a)(e,"className","submit-button"),e),"Save"))},Ee=t(83),fe=t.n(Ee),he=t(171);function pe(e){var a=e.card,t=e.submitFn,n=e.deleteCardFn,l=ie((function(){t(i).then((function(e){m()})).catch((function(e){m()}))}),oe,a),c=l.errors,i=l.values,o=l.handleChange,u=l.handleSubmit,s=l.handleClearValues;function m(){s()}return console.log(a),r.a.createElement("form",{id:"addCardForm",onSubmit:u},r.a.createElement(A.a,{style:{margin:"50px 0px"}},r.a.createElement(k.a,null,r.a.createElement("div",null,r.a.createElement(he.a,null,"type:"),r.a.createElement(ue.a,{labelId:"Type",id:"type-select",value:i.type||"",name:"type",onChange:o},r.a.createElement(se.a,{value:"phrase"},"Phrase"),r.a.createElement(se.a,{value:"question"},"Question"),r.a.createElement(se.a,{value:"vocab"},"Vocab")),c.type?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(he.a,null,"hiragana:"),r.a.createElement(me.a,{"aria-label":"hiragana",className:"".concat(c.hiragana?"error":""),type:"text",placeholder:"hiragana",name:"hiragana",onChange:o,value:i.hiragana||""}),c.hiragana?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(he.a,null,"no kanji:"),r.a.createElement(me.a,{"aria-label":"no_kanji",className:"",type:"text",placeholder:"no_kanji",name:"no_kanji",onChange:o,value:i.no_kanji||""}),c.no_kanji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(he.a,null,"romaji:"),r.a.createElement(me.a,{"aria-label":"romaji",className:"",type:"text",placeholder:"romaji",name:"romaji",onChange:o,value:i.romaji||""}),c.romaji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(he.a,null,"english:"),r.a.createElement(me.a,{"aria-label":"english",className:"".concat(c.english?"error":""),type:"text",placeholder:"english",name:"english",onChange:o,value:i.english||""}),c.english?r.a.createElement("span",null,"Required."):null)),r.a.createElement(P.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%"}},r.a.createElement("div",null,r.a.createElement(B.a,{color:"secondary",startIcon:r.a.createElement(fe.a,null),onClick:function(){return n(a)}},"Delete")),r.a.createElement("div",null,r.a.createElement(B.a,{style:{float:"right"},color:"primary","aria-label":"submit",type:"submit",htmltype:"submit",className:"submit-button"},"Save"))))))}var be=function(){var e=Object(R.c)((function(e){return e.cards})),a=Object(R.b)(),t=function(e){return a(function(e){var a="".concat(L.baseApiUri,"/api/updateCard");return function(t){return new Promise((function(n,r){U.a.post(a,{card:e}).then((function(e){var a=e.data,r=a.failed?I(a.failed):{type:"SET_CARD_SUCCESS",card:a};t(r),n(a)})).catch((function(e){t(I(e.message)),r(e.message)}))}))}}(e))},l=function(e){return a(function(e){var a="".concat(L.baseApiUri,"/api/deleteCard");return function(t){return new Promise((function(n,r){U.a.post(a,{card:e}).then((function(e){var a=e.data,r=a.failed?G(a.failed):{type:"GET_ALL_CARDS_SUCCESS",cards:a};t(r),n(a)})).catch((function(e){t(G(e.message)),r(e.message)}))}))}}(e))};return Object(n.useEffect)((function(){a(T())}),[]),e?r.a.createElement("div",null,s.map(e,(function(e,a){return r.a.createElement(pe,{card:Object(u.a)({},e),key:a,submitFn:t,deleteCardFn:l})}))):null},ve=t(84),ge=t(172);var je=function(){var e=Object(n.useState)(!1),a=Object(b.a)(e,2),t=a[0],l=a[1],c=r.a.useState(null),i=Object(b.a)(c,2),o=i[0],u=i[1],s=Boolean(o),m=function(){u(null)};return Object(n.useEffect)((function(){l(window.outerWidth<=767);var e=function(){l(window.outerWidth<=767)};return window.addEventListener("resize",e,{passive:!0}),function(){window.removeEventListener("resize",e,!0)}}),[]),r.a.createElement("div",{className:"App",style:{width:"85%",margin:"0 auto"}},r.a.createElement(v.a,null,r.a.createElement("header",{style:{textAlign:"left"}},r.a.createElement(B.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},"Menu"),r.a.createElement(ve.a,{id:"fade-menu",anchorEl:o,keepMounted:!0,open:s,onClose:m,TransitionComponent:ge.a},r.a.createElement("a",{href:"/"},r.a.createElement(se.a,{onClick:m},"Lessons")),r.a.createElement("a",{href:"/add"},r.a.createElement(se.a,{onClick:m},"Add")),r.a.createElement("a",{href:"/edit"},r.a.createElement(se.a,{onClick:m},"Edit")))),r.a.createElement("main",{className:"main-content"},r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(M,null)}}),r.a.createElement(g.b,{exact:!0,path:"/flashcards/:lesson",render:function(e){return r.a.createElement(ce,{isMobile:t})}}),r.a.createElement(g.b,{exact:!0,path:"/flashcards/:lesson/e",render:function(e){return r.a.createElement(ce,{isMobile:t,isEnglishFirst:!0})}}),r.a.createElement(g.b,{exact:!0,path:"/add",render:function(e){return r.a.createElement(de,{isMobile:t})}}),r.a.createElement(g.b,{exact:!0,path:"/edit",render:function(e){return r.a.createElement(be,{isMobile:t})}}),r.a.createElement(g.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye,Ce=Object(i.d)(E,ye,Object(i.a)(p.a,h()()));c.a.render(r.a.createElement(R.a,{store:Ce},r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,a,t){e.exports=t(126)}},[[92,1,2]]]);
//# sourceMappingURL=main.2c2a3890.chunk.js.map