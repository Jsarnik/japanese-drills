(this["webpackJsonplearn-japanese"]=this["webpackJsonplearn-japanese"]||[]).push([[0],{103:function(e,a,t){},126:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),c=t.n(l),i=t(31),o=t(10),u=t(22),s=t(15),m={cards:{}};var d=Object(i.c)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ALL_CARDS_SUCCESS":return a.cards;case"SET_CARD_SUCCESS":return Object(u.a)({},e,Object(o.a)({},a.card._id,a.card));case"GET_ALL_CARDS_FAILURE":default:return e}}}),E=function(e,a){return d(e,a)},f=t(77),p=t.n(f),h=t(78);var b=t(11),v=(t(103),t(54)),g=t(28),j=t(163),y=t(132),C=t(164),O=t(43),S=t.n(O),_=t(172),A=t(158),k=t(162),w=t(16),R={baseApiUri:""},L=t(34),x=t.n(L);function U(e){return{type:"GET_ALL_CARDS_FAILURE",error:e}}function N(e){var a="".concat(R.baseApiUri,"/api/getCards"),t={type:e};return function(e){return new Promise((function(n,r){x.a.post(a,t).then((function(a){var t=a.data,r=t.failed?U(t.failed):{type:"GET_ALL_CARDS_SUCCESS",cards:t};e(r),n(t)})).catch((function(a){e(U(a.message)),r(a.message)}))}))}}function T(e){return{type:"SET_CARD_FAILURE",error:e}}function D(e){return{type:"GET_ALL_CARDS_FAILURE",error:e}}function q(e){return{type:"SET_CARD_FAILURE",error:e}}function F(e){return{type:"SET_CARD_FAILURE",error:e}}function I(e){return{type:"GET_ALL_CARDS_FAILURE",error:e}}var G=function(){var e=Object(w.c)((function(e){return e.cards})),a=Object(w.b)(),t=Object.keys(e).length||0,l=s.filter(e,(function(e){return"phrase"===e.type})).length||0,c=s.filter(e,(function(e){return"question"===e.type})).length||0,i=s.filter(e,(function(e){return"vocab"===e.type})).length||0;function o(e){window.location.href="/flashcards/".concat(e)}return Object(n.useEffect)((function(){a(N())}),[]),r.a.createElement(A.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,{button:!0,onClick:function(){return o("phrase")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"phrases"}),l),r.a.createElement(y.a,{button:!0,onClick:function(){return o("question")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"questions"}),c),r.a.createElement(y.a,{button:!0,onClick:function(){return o("vocab")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"vocab"}),i),r.a.createElement(y.a,{button:!0,onClick:function(){return o("all")}},r.a.createElement(C.a,null,r.a.createElement(S.a,null)),r.a.createElement(_.a,{primary:"all"}),t))))},M=t(166),P=t(4),V=t(165),B=t(79),W=t.n(B),z=t(80),J=t.n(z),Q=t(48),K=t(49),$=function(e){var a=e.url,t=e.controls,l=-1===a.indexOf("http")?"http://japanese-drills.s3.amazonaws.com/audio/".concat(a):a,c=function(e){var a=Object(n.useState)(new Audio(e)),t=Object(b.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1];Object(n.useEffect)((function(){null!==r&&(o?r.play():s()),l(new Audio(e)),u(!1)}),[e]);function s(){r.pause(),r.currentTime=0}return Object(n.useEffect)((function(){null!==r&&(o?r.play():s())}),[o]),Object(n.useEffect)((function(){return r.addEventListener("ended",(function(){return u(!1)})),function(){r.removeEventListener("ended",(function(){return u(!1)}))}}),[]),[o,function(){return u(!o)},r]}(l),i=Object(b.a)(c,2),o=i[0],u=i[1],s=Object(n.useRef)(null);return Object(n.useEffect)((function(){s&&s.current&&(s.current.src=l)}),[a]),t?r.a.createElement("audio",{controls:!0,ref:s},r.a.createElement("source",{src:l,type:"audio/mpeg"})):r.a.createElement("div",{onClick:u},o?r.a.createElement(W.a,{style:{color:Q.a[500]}}):r.a.createElement(J.a,{style:{color:K.a[500]}}))},H=t(81),X=t.n(H),Y=t(56),Z=t.n(Y),ee=t(57),ae=t.n(ee),te=Object(P.a)((function(e){return{root:{color:Z.a.A700,backgroundColor:"#fff","&:hover":{backgroundColor:Z.a[50]}}}}))(V.a),ne=Object(P.a)((function(e){return{root:{color:ae.a.A700,backgroundColor:"#fff","&:hover":{backgroundColor:ae.a[50]}}}}))(V.a);function re(e){var a=e.card,t=e.isMobile,l=Object(n.useState)(!1),c=Object(b.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(!1),s=Object(b.a)(u,2),m=s[0],d=s[1],E=Object(n.useState)(!1),f=Object(b.a)(E,2),p=f[0],h=f[1];return Object(n.useEffect)((function(){o(!1),d(!1),h(!1)}),[a]),r.a.createElement("div",null,a.audioUrl?r.a.createElement($,{url:a.audioUrl,controls:t}):null,r.a.createElement("div",{className:"study-text"},a.hiragana),p?r.a.createElement("div",{className:"hint-text"},a.no_kanji):r.a.createElement("div",null,r.a.createElement(V.a,{color:"secondary",onClick:function(){return h(!0)}},"Show No Kanji")),m?r.a.createElement("div",{className:"romaji-text"},a.romaji):r.a.createElement("div",null,r.a.createElement(ne,{color:"secondary",onClick:function(){return d(!0)}},"Show Romaji")),i?r.a.createElement("div",{className:"answer-text"},a.english):r.a.createElement("div",null,r.a.createElement(te,{color:"primary",onClick:function(){return o(!0)}},"Show Answer")))}var le=Object(g.g)((function(e){var a=Object(w.c)((function(e){return e.cards})),t=Object(w.b)(),l=Object(n.useState)(0),c=Object(b.a)(l,2),i=c[0],o=c[1],m=s.filter(a,(function(e){return!e.isLesson})),d=s.filter(a,(function(e){return e.isLesson}));function E(e){i+1<m.length?e?o(i+1):(f.isLesson=!0,t(function(e){var a="".concat(R.baseApiUri,"/api/setCard"),t={card:e};return function(e){return new Promise((function(n,r){x.a.post(a,t).then((function(a){var t=a.data,r=t.failed?T(t.failed):{type:"SET_CARD_SUCCESS",card:t};e(r),n(t)})).catch((function(a){e(T(a.message)),r(a.message)}))}))}}(f))):o(0)}Object(n.useEffect)((function(){var a="all"===e.match.params.lesson?null:e.match.params.lesson;t(N(a))}),[]);var f=Object(u.a)({},m[i]);return s.isEmpty(f)?r.a.createElement("div",{style:{textAlign:"center",width:"100%"},className:"card-container"},"No Cards"):r.a.createElement("div",{style:{textAlign:"center",width:"100%"},className:"card-container"},d.length>0?r.a.createElement("div",null,r.a.createElement(V.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(X.a,null),onClick:function(){t(function(e){var a="".concat(R.baseApiUri,"/api/resetLesson");return function(e){return new Promise((function(t,n){x.a.get(a,{}).then((function(a){var n=a.data,r=n.failed?D(n.failed):{type:"GET_ALL_CARDS_SUCCESS",cards:n};e(r),t(n)})).catch((function(a){e(D(a.message)),n(a.message)}))}))}}()),o(0)}},"Reset Lesson")):null,r.a.createElement("div",null,e.match.params.lesson.toUpperCase()),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",marginBottom:"50px"}},r.a.createElement("div",null,r.a.createElement("span",null,i+1)," / ",r.a.createElement("span",{className:"remaining"},m.length," ")," / ",r.a.createElement("span",{className:"finished"},d.length))),r.a.createElement(A.a,null,r.a.createElement(k.a,null,r.a.createElement(re,{card:f,isMobile:e.isMobile})),r.a.createElement(M.a,null,r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},r.a.createElement("div",{style:{marginRight:"5px"}},r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:function(){return E(!1)}},"Good")),r.a.createElement("div",{style:{marginLeft:"5px"}},r.a.createElement(V.a,{variant:"contained",color:"secondary",onClick:function(){return E(!0)}},"Revisit"))))))})),ce=function(e,a,t){var r=Object(n.useState)(t),l=Object(b.a)(r,2),c=l[0],i=l[1],s=Object(n.useState)({}),m=Object(b.a)(s,2),d=m[0],E=m[1],f=Object(n.useState)(!1),p=Object(b.a)(f,2),h=p[0],v=p[1];Object(n.useEffect)((function(){0===Object.keys(d).length&&h&&e()}),[d,h]);return{handleClearValues:function(){i({}),v(!1)},handleChange:function(e){e.persist(),v(!1),i((function(a){return Object(u.a)({},a,Object(o.a)({},e.target.name,e.target.value))})),d[e.target.name]&&E(a(Object(u.a)({},c,Object(o.a)({},e.target.name,e.target.value))))},handleSubmit:function(e){e&&e.preventDefault(),v(!0),E(a(c))},values:c,errors:d}};function ie(e){var a={};return e.hiragana||(a.hiragana=!0),e.romaji||(a.romaji=!0),e.english||(a.english=!0),e.type||(a.type=!0),a}var oe=t(171),ue=t(168),se=t(167);var me=function(){var e,a=ce((function(){s(function(e){var a="".concat(R.baseApiUri,"/api/addCard");return function(t){return new Promise((function(n,r){x.a.post(a,{card:e}).then((function(e){var a=e.data,r=a.failed?q(a.failed):{type:"SET_CARD_SUCCESS",card:a};t(r),n(a)})).catch((function(e){t(q(e.message)),r(e.message)}))}))}}(l)).then((function(e){E(!0),u()})).catch((function(e){console.log(e)}))}),ie,{}),t=a.errors,l=a.values,c=a.handleChange,i=a.handleSubmit,u=a.handleClearValues,s=Object(w.b)(),m=Object(n.useState)(!1),d=Object(b.a)(m,2),E=(d[0],d[1]);return r.a.createElement("form",{id:"addCardForm",onSubmit:i},r.a.createElement("div",null,r.a.createElement(oe.a,{labelId:"Type",id:"type-select",value:l.type||"",name:"type",onChange:c},r.a.createElement(ue.a,{value:"phrase"},"Phrase"),r.a.createElement(ue.a,{value:"question"},"Question"),r.a.createElement(ue.a,{value:"vocab"},"Vocab")),t.type?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(se.a,{"aria-label":"hiragana",className:"".concat(t.hiragana?"error":""),type:"text",placeholder:"hiragana",name:"hiragana",onChange:c,value:l.hiragana||""}),t.hiragana?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(se.a,{"aria-label":"no_kanji",className:"",type:"text",placeholder:"no_kanji",name:"no_kanji",onChange:c,value:l.no_kanji||""}),t.no_kanji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(se.a,{"aria-label":"romaji",className:"",type:"text",placeholder:"romaji",name:"romaji",onChange:c,value:l.romaji||""}),t.romaji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(se.a,{"aria-label":"english",className:"".concat(t.english?"error":""),type:"text",placeholder:"english",name:"english",onChange:c,value:l.english||""}),t.english?r.a.createElement("span",null,"Required."):null),r.a.createElement(V.a,(e={type:"primary",color:"primary","aria-label":"submit"},Object(o.a)(e,"type","submit"),Object(o.a)(e,"htmltype","submit"),Object(o.a)(e,"className","submit-button"),e),"Save"))},de=t(83),Ee=t.n(de),fe=t(169);function pe(e){var a=e.card,t=e.submitFn,n=e.deleteCardFn,l=ce((function(){t(i).then((function(e){m()})).catch((function(e){m()}))}),ie,a),c=l.errors,i=l.values,o=l.handleChange,u=l.handleSubmit,s=l.handleClearValues;function m(){s()}return console.log(a),r.a.createElement("form",{id:"addCardForm",onSubmit:u},r.a.createElement(A.a,{style:{margin:"50px 0px"}},r.a.createElement(k.a,null,r.a.createElement("div",null,r.a.createElement(fe.a,null,"type:"),r.a.createElement(oe.a,{labelId:"Type",id:"type-select",value:i.type||"",name:"type",onChange:o},r.a.createElement(ue.a,{value:"phrase"},"Phrase"),r.a.createElement(ue.a,{value:"question"},"Question"),r.a.createElement(ue.a,{value:"vocab"},"Vocab")),c.type?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(fe.a,null,"hiragana:"),r.a.createElement(se.a,{"aria-label":"hiragana",className:"".concat(c.hiragana?"error":""),type:"text",placeholder:"hiragana",name:"hiragana",onChange:o,value:i.hiragana||""}),c.hiragana?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(fe.a,null,"no kanji:"),r.a.createElement(se.a,{"aria-label":"no_kanji",className:"",type:"text",placeholder:"no_kanji",name:"no_kanji",onChange:o,value:i.no_kanji||""}),c.no_kanji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(fe.a,null,"romaji:"),r.a.createElement(se.a,{"aria-label":"romaji",className:"",type:"text",placeholder:"romaji",name:"romaji",onChange:o,value:i.romaji||""}),c.romaji?r.a.createElement("span",null,"Required."):null),r.a.createElement("div",null,r.a.createElement(fe.a,null,"english:"),r.a.createElement(se.a,{"aria-label":"english",className:"".concat(c.english?"error":""),type:"text",placeholder:"english",name:"english",onChange:o,value:i.english||""}),c.english?r.a.createElement("span",null,"Required."):null)),r.a.createElement(M.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%"}},r.a.createElement("div",null,r.a.createElement(V.a,{color:"secondary",startIcon:r.a.createElement(Ee.a,null),onClick:function(){return n(a)}},"Delete")),r.a.createElement("div",null,r.a.createElement(V.a,{style:{float:"right"},color:"primary","aria-label":"submit",type:"submit",htmltype:"submit",className:"submit-button"},"Save"))))))}var he=function(){var e=Object(w.c)((function(e){return e.cards})),a=Object(w.b)(),t=function(e){return a(function(e){var a="".concat(R.baseApiUri,"/api/updateCard");return function(t){return new Promise((function(n,r){x.a.post(a,{card:e}).then((function(e){var a=e.data,r=a.failed?F(a.failed):{type:"SET_CARD_SUCCESS",card:a};t(r),n(a)})).catch((function(e){t(F(e.message)),r(e.message)}))}))}}(e))},l=function(e){return a(function(e){var a="".concat(R.baseApiUri,"/api/deleteCard");return function(t){return new Promise((function(n,r){x.a.post(a,{card:e}).then((function(e){var a=e.data,r=a.failed?I(a.failed):{type:"GET_ALL_CARDS_SUCCESS",cards:a};t(r),n(a)})).catch((function(e){t(I(e.message)),r(e.message)}))}))}}(e))};return Object(n.useEffect)((function(){a(N())}),[]),e?r.a.createElement("div",null,s.map(e,(function(e,a){return r.a.createElement(pe,{card:Object(u.a)({},e),key:a,submitFn:t,deleteCardFn:l})}))):null},be=t(84),ve=t(170);var ge=function(){var e=Object(n.useState)(!1),a=Object(b.a)(e,2),t=a[0],l=a[1],c=r.a.useState(null),i=Object(b.a)(c,2),o=i[0],u=i[1],s=Boolean(o),m=function(){u(null)};return Object(n.useEffect)((function(){l(window.outerWidth<=767);var e=function(){l(window.outerWidth<=767)};return window.addEventListener("resize",e,{passive:!0}),function(){window.removeEventListener("resize",e,!0)}}),[]),r.a.createElement("div",{className:"App",style:{width:"85%",margin:"0 auto"}},r.a.createElement(v.a,null,r.a.createElement("header",{style:{textAlign:"left"}},r.a.createElement(V.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},"Menu"),r.a.createElement(be.a,{id:"fade-menu",anchorEl:o,keepMounted:!0,open:s,onClose:m,TransitionComponent:ve.a},r.a.createElement("a",{href:"/"},r.a.createElement(ue.a,{onClick:m},"Lessons")),r.a.createElement("a",{href:"/add"},r.a.createElement(ue.a,{onClick:m},"Add")),r.a.createElement("a",{href:"/edit"},r.a.createElement(ue.a,{onClick:m},"Edit")))),r.a.createElement("main",{className:"main-content"},r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(G,null)}}),r.a.createElement(g.b,{exact:!0,path:"/flashcards/:lesson",render:function(e){return r.a.createElement(le,{isMobile:t})}}),r.a.createElement(g.b,{exact:!0,path:"/add",render:function(e){return r.a.createElement(me,{isMobile:t})}}),r.a.createElement(g.b,{exact:!0,path:"/edit",render:function(e){return r.a.createElement(he,{isMobile:t})}}),r.a.createElement(g.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je,ye=Object(i.d)(E,je,Object(i.a)(h.a,p()()));c.a.render(r.a.createElement(w.a,{store:ye},r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,a,t){e.exports=t(126)}},[[92,1,2]]]);
//# sourceMappingURL=main.51596b07.chunk.js.map