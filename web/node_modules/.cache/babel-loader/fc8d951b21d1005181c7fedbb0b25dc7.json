{"ast":null,"code":"import _slicedToArray from\"/Users/jsarnik-a/Documents/Projects/learn-japanese/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import VisibilityIcon from'@material-ui/icons/Visibility';import VisibilityOffIcon from'@material-ui/icons/VisibilityOff';import TranslateIcon from'@material-ui/icons/Translate';import FeedbackIcon from'@material-ui/icons/Feedback';import ListItemText from'@material-ui/core/ListItemText';import Divider from'@material-ui/core/Divider';import Player from'./Player';import*as _ from'lodash';var defaultKeyShow='hiragana';var BASE_URI='http://japanese-drills.s3.amazonaws.com/audio/';function Phrases(_ref){var data=_ref.data,isMobile=_ref.isMobile;return React.createElement(List,null,React.createElement(Items,{data:data,isMobile:isMobile}));}function Items(_ref2){var data=_ref2.data,isMobile=_ref2.isMobile;return data.map(function(item,i){return React.createElement(\"div\",{key:i,className:\"phrase-container\",style:{display:'flex',justifyContent:'space-between'}},React.createElement(\"div\",{className:\"phrase\"},React.createElement(Phrase,{phrase:item,index:i,isMobile:isMobile})),React.createElement(Divider,{light:true}));});}function Phrase(_ref3){var phrase=_ref3.phrase,index=_ref3.index,isMobile=_ref3.isMobile;var audioUrl=phrase.audio?phrase.audio.indexOf('http')!==-1?phrase.audio:\"\".concat(BASE_URI).concat(phrase.audio):null;return React.createElement(\"div\",{className:\"phrase\"},React.createElement(ListItem,{button:true,className:'voice-button'},React.createElement(ListItemIcon,null,React.createElement(FeedbackIcon,null)),React.createElement(ListItemText,{primary:\"\".concat(phrase[defaultKeyShow])}),audioUrl&&!isMobile?React.createElement(Player,{url:audioUrl,controls:false}):null),audioUrl&&isMobile?React.createElement(ListItem,null,React.createElement(Player,{url:audioUrl,controls:true})):null,React.createElement(Translations,{values:phrase,index:index}));}function Translations(_ref4){var values=_ref4.values,index=_ref4.index;var _useState=useState({index:-1,type:''}),_useState2=_slicedToArray(_useState,2),selectedItem=_useState2[0],setSelectedItem=_useState2[1];return _.map(values,function(val,key){if(key!=='katakana'&&key!==defaultKeyShow&&key!=='audio'){var isSelected=selectedItem.index===index&&selectedItem.type===key,selectModel={index:index,type:key};return React.createElement(ListItem,{className:\"\".concat(isSelected?'selected':''),button:true,onClick:function onClick(){setSelectedItem(isSelected?{}:selectModel);}},React.createElement(ListItemIcon,null,React.createElement(TranslateIcon,null)),React.createElement(ListItemText,{primary:\"\".concat(isSelected?val:key)}),isSelected?React.createElement(VisibilityIcon,null):React.createElement(VisibilityOffIcon,null));}});}export default Phrases;","map":{"version":3,"sources":["/Users/jsarnik-a/Documents/Projects/learn-japanese/src/components/Phrases.js"],"names":["React","useState","useEffect","List","ListItem","ListItemIcon","VisibilityIcon","VisibilityOffIcon","TranslateIcon","FeedbackIcon","ListItemText","Divider","Player","_","defaultKeyShow","BASE_URI","Phrases","data","isMobile","Items","map","item","i","display","justifyContent","Phrase","phrase","index","audioUrl","audio","indexOf","Translations","values","type","selectedItem","setSelectedItem","val","key","isSelected","selectModel"],"mappings":"qIAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,CACA,MAAOC,CAAAA,aAAP,KAA0B,8BAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAO,GAAKC,CAAAA,CAAZ,KAAmB,QAAnB,CAEA,GAAMC,CAAAA,cAAc,CAAG,UAAvB,CACA,GAAMC,CAAAA,QAAQ,CAAG,gDAAjB,CAEA,QAASC,CAAAA,OAAT,MAAkC,IAAhBC,CAAAA,IAAgB,MAAhBA,IAAgB,CAAVC,QAAU,MAAVA,QAAU,CAC9B,MACI,qBAAC,IAAD,MACI,oBAAC,KAAD,EAAO,IAAI,CAAED,IAAb,CAAmB,QAAQ,CAAEC,QAA7B,EADJ,CADJ,CAKH,CAED,QAASC,CAAAA,KAAT,OAAgC,IAAhBF,CAAAA,IAAgB,OAAhBA,IAAgB,CAAVC,QAAU,OAAVA,QAAU,CAC5B,MAAOD,CAAAA,IAAI,CAACG,GAAL,CAAS,SAACC,IAAD,CAAOC,CAAP,CAAa,CACzB,MACI,4BAAK,GAAG,CAAEA,CAAV,CAAa,SAAS,CAAC,kBAAvB,CAA0C,KAAK,CAAE,CAACC,OAAO,CAAE,MAAV,CAAkBC,cAAc,CAAE,eAAlC,CAAjD,EACI,2BAAK,SAAS,CAAC,QAAf,EACI,oBAAC,MAAD,EAAQ,MAAM,CAAEH,IAAhB,CAAsB,KAAK,CAAEC,CAA7B,CAAgC,QAAQ,CAAEJ,QAA1C,EADJ,CADJ,CAII,oBAAC,OAAD,EAAS,KAAK,KAAd,EAJJ,CADJ,CAQH,CATM,CAAP,CAUH,CAED,QAASO,CAAAA,MAAT,OAAyC,IAAxBC,CAAAA,MAAwB,OAAxBA,MAAwB,CAAhBC,KAAgB,OAAhBA,KAAgB,CAAVT,QAAU,OAAVA,QAAU,CACrC,GAAMU,CAAAA,QAAQ,CAAGF,MAAM,CAACG,KAAP,CAAeH,MAAM,CAACG,KAAP,CAAaC,OAAb,CAAqB,MAArB,IAAiC,CAAC,CAAlC,CAAsCJ,MAAM,CAACG,KAA7C,WAAwDd,QAAxD,SAAmEW,MAAM,CAACG,KAA1E,CAAf,CAAmG,IAApH,CACA,MACI,4BAAK,SAAS,CAAC,QAAf,EACI,oBAAC,QAAD,EAAU,MAAM,KAAhB,CAAiB,SAAS,CAAE,cAA5B,EACI,oBAAC,YAAD,MACI,oBAAC,YAAD,MADJ,CADJ,CAII,oBAAC,YAAD,EAAc,OAAO,WAAKH,MAAM,CAACZ,cAAD,CAAX,CAArB,EAJJ,CAMQc,QAAQ,EAAI,CAACV,QAAb,CACI,oBAAC,MAAD,EAAQ,GAAG,CAAEU,QAAb,CAAuB,QAAQ,CAAE,KAAjC,EADJ,CAGI,IATZ,CADJ,CAcQA,QAAQ,EAAIV,QAAZ,CACI,oBAAC,QAAD,MACI,oBAAC,MAAD,EAAQ,GAAG,CAAEU,QAAb,CAAuB,QAAQ,CAAE,IAAjC,EADJ,CADJ,CAKI,IAnBZ,CAqBI,oBAAC,YAAD,EAAc,MAAM,CAAEF,MAAtB,CAA8B,KAAK,CAAEC,KAArC,EArBJ,CADJ,CAyBH,CAED,QAASI,CAAAA,YAAT,OAAsC,IAAfC,CAAAA,MAAe,OAAfA,MAAe,CAAPL,KAAO,OAAPA,KAAO,eACM1B,QAAQ,CAAC,CAAC0B,KAAK,CAAE,CAAC,CAAT,CAAYM,IAAI,CAAE,EAAlB,CAAD,CADd,wCAC3BC,YAD2B,eACbC,eADa,eAGlC,MAAOtB,CAAAA,CAAC,CAACO,GAAF,CAAMY,MAAN,CAAc,SAACI,GAAD,CAAMC,GAAN,CAAc,CAC/B,GAAGA,GAAG,GAAK,UAAR,EAAsBA,GAAG,GAAKvB,cAA9B,EAAgDuB,GAAG,GAAK,OAA3D,CAAmE,CAC/D,GAAIC,CAAAA,UAAU,CAAGJ,YAAY,CAACP,KAAb,GAAuBA,KAAvB,EAAgCO,YAAY,CAACD,IAAb,GAAsBI,GAAvE,CACIE,WAAW,CAAG,CAACZ,KAAK,CAAEA,KAAR,CAAeM,IAAI,CAAEI,GAArB,CADlB,CAGA,MACI,qBAAC,QAAD,EAAU,SAAS,WAAKC,UAAU,CAAG,UAAH,CAAgB,EAA/B,CAAnB,CAAwD,MAAM,KAA9D,CAA+D,OAAO,CAAE,kBAAI,CAACH,eAAe,CAACG,UAAU,CAAG,EAAH,CAAQC,WAAnB,CAAf,CAA+C,CAA5H,EACI,oBAAC,YAAD,MACI,oBAAC,aAAD,MADJ,CADJ,CAII,oBAAC,YAAD,EAAc,OAAO,WAAKD,UAAU,CAAGF,GAAH,CAASC,GAAxB,CAArB,EAJJ,CAMQC,UAAU,CACN,oBAAC,cAAD,MADM,CAGN,oBAAC,iBAAD,MATZ,CADJ,CAcH,CACJ,CApBM,CAAP,CAqBH,CAED,cAAetB,CAAAA,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport FeedbackIcon from '@material-ui/icons/Feedback';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Player from './Player';\nimport * as _ from 'lodash';\n\nconst defaultKeyShow = 'hiragana';\nconst BASE_URI = 'http://japanese-drills.s3.amazonaws.com/audio/';\n\nfunction Phrases({data, isMobile}){\n    return (\n        <List>\n            <Items data={data} isMobile={isMobile}></Items>\n        </List>\n    )\n}\n\nfunction Items({data, isMobile}){\n    return data.map((item, i) => {\n        return (\n            <div key={i} className=\"phrase-container\" style={{display: 'flex', justifyContent: 'space-between'}}>\n                <div className=\"phrase\">\n                    <Phrase phrase={item} index={i} isMobile={isMobile}></Phrase>\n                </div>\n                <Divider light />\n            </div>\n        )\n    });\n}\n\nfunction Phrase({phrase, index,isMobile}){\n    const audioUrl = phrase.audio ? phrase.audio.indexOf('http') !== -1 ? phrase.audio : `${BASE_URI}${phrase.audio}` : null;\n    return (\n        <div className=\"phrase\">\n            <ListItem button className={'voice-button'}>\n                <ListItemIcon>\n                    <FeedbackIcon/>\n                </ListItemIcon>\n                <ListItemText primary={`${phrase[defaultKeyShow]}`}/>\n                {\n                    audioUrl && !isMobile ?\n                        <Player url={audioUrl} controls={false}></Player>\n                    :\n                        null\n                }\n            </ListItem>\n            {\n                audioUrl && isMobile ?\n                    <ListItem>\n                        <Player url={audioUrl} controls={true}></Player>\n                    </ListItem>\n                :\n                    null\n            }\n            <Translations values={phrase} index={index}></Translations>\n        </div>\n    )\n}\n\nfunction Translations({values, index}){\n    const [selectedItem, setSelectedItem] = useState({index: -1, type: ''});\n\n    return _.map(values, (val, key) => {\n        if(key !== 'katakana' && key !== defaultKeyShow && key !== 'audio'){\n            let isSelected = selectedItem.index === index && selectedItem.type === key,\n                selectModel = {index: index, type: key};\n\n            return (\n                <ListItem className={`${isSelected ? 'selected' : ''}`} button onClick={()=>{setSelectedItem(isSelected ? {} : selectModel)}}>\n                    <ListItemIcon>\n                        <TranslateIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={`${isSelected ? val : key}`} />\n                    {   \n                        isSelected ?\n                            <VisibilityIcon/>\n                        :\n                            <VisibilityOffIcon/>\n                    }\n                </ListItem>\n            )\n        }\n    })\n}\n\nexport default Phrases;\n"]},"metadata":{},"sourceType":"module"}