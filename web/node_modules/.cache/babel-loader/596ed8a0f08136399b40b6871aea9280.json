{"ast":null,"code":"import _slicedToArray from\"/Users/jsarnik-a/Documents/Projects/learn-japanese/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import VisibilityIcon from'@material-ui/icons/Visibility';import VisibilityOffIcon from'@material-ui/icons/VisibilityOff';import TranslateIcon from'@material-ui/icons/Translate';import FeedbackIcon from'@material-ui/icons/Feedback';import ListItemText from'@material-ui/core/ListItemText';import Divider from'@material-ui/core/Divider';import Player from'./Player';import*as _ from'lodash';var defaultKeyShow='katakana';var BASE_URI='http://japanese-drills.s3.amazonaws.com/audio/';function Phrases(_ref){var data=_ref.data;var _useState=useState({index:-1,type:''}),_useState2=_slicedToArray(_useState,2),selectedItem=_useState2[0],setSelectedItem=_useState2[1];function handleClick(val){setSelectedItem(val);}return React.createElement(List,null,React.createElement(Items,{data:data,handleClick:handleClick,selectedItem:selectedItem}));}function Items(_ref2){var data=_ref2.data,handleClick=_ref2.handleClick,selectedItem=_ref2.selectedItem;return data.map(function(item,i){return React.createElement(\"div\",{key:i,className:\"phrase-container\",style:{display:'flex',justifyContent:'space-between'}},React.createElement(\"div\",{className:\"phrase\"},React.createElement(Phrase,{phrase:item,index:i})),React.createElement(Divider,{light:true}));});}function Phrase(_ref3){var phrase=_ref3.phrase,index=_ref3.index;var audioUrl=phrase.audio?phrase.audio.indexOf('http')!==-1?phrase.audio:\"\".concat(BASE_URI).concat(phrase.audio):null;return React.createElement(\"div\",{className:\"phrase\"},React.createElement(ListItem,{button:true,className:'voice-button'},React.createElement(ListItemIcon,null,React.createElement(FeedbackIcon,null)),React.createElement(ListItemText,{primary:\"\".concat(phrase[defaultKeyShow])}),audioUrl?React.createElement(Player,{url:audioUrl}):null),React.createElement(Translations,{values:phrase,index:index}));}function Translations(_ref4){var values=_ref4.values,index=_ref4.index;var _useState3=useState({index:-1,type:''}),_useState4=_slicedToArray(_useState3,2),selectedItem=_useState4[0],setSelectedItem=_useState4[1];return _.map(values,function(val,key){if(key!==defaultKeyShow&&key!=='audio'){var isSelected=selectedItem.index===index&&selectedItem.type===key,selectModel={index:index,type:key};return React.createElement(ListItem,{className:\"\".concat(isSelected?'selected':''),button:true,onClick:function onClick(){setSelectedItem(isSelected?{}:selectModel);}},React.createElement(ListItemIcon,null,React.createElement(TranslateIcon,null)),React.createElement(ListItemText,{primary:\"\".concat(isSelected?val:key)}),isSelected?React.createElement(VisibilityIcon,null):React.createElement(VisibilityOffIcon,null));}});}export default Phrases;","map":{"version":3,"sources":["/Users/jsarnik-a/Documents/Projects/learn-japanese/src/components/Phrases.js"],"names":["React","useState","useEffect","List","ListItem","ListItemIcon","VisibilityIcon","VisibilityOffIcon","TranslateIcon","FeedbackIcon","ListItemText","Divider","Player","_","defaultKeyShow","BASE_URI","Phrases","data","index","type","selectedItem","setSelectedItem","handleClick","val","Items","map","item","i","display","justifyContent","Phrase","phrase","audioUrl","audio","indexOf","Translations","values","key","isSelected","selectModel"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport FeedbackIcon from '@material-ui/icons/Feedback';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Player from './Player';\nimport * as _ from 'lodash';\n\nconst defaultKeyShow = 'katakana';\nconst BASE_URI = 'http://japanese-drills.s3.amazonaws.com/audio/';\n\nfunction Phrases({data}){\n    const [selectedItem, setSelectedItem] = useState({index: -1, type: ''});\n\n    function handleClick(val){\n        setSelectedItem(val);\n    }\n\n    return (\n        <List>\n            <Items data={data} handleClick={handleClick} selectedItem={selectedItem}></Items>\n        </List>\n    )\n}\n\nfunction Items({data, handleClick, selectedItem}){\n    return data.map((item, i) => {\n        return (\n            <div key={i} className=\"phrase-container\" style={{display: 'flex', justifyContent: 'space-between'}}>\n                <div className=\"phrase\">\n                    <Phrase phrase={item} index={i}></Phrase>\n                </div>\n                <Divider light />\n            </div>\n        )\n    });\n}\n\nfunction Phrase({phrase, index}){\n    const audioUrl = phrase.audio ? phrase.audio.indexOf('http') !== -1 ? phrase.audio : `${BASE_URI}${phrase.audio}` : null;\n    return (\n        <div className=\"phrase\">\n            <ListItem button className={'voice-button'}>\n                <ListItemIcon>\n                    <FeedbackIcon/>\n                </ListItemIcon>\n                <ListItemText primary={`${phrase[defaultKeyShow]}`}/>\n                {\n                    audioUrl ?\n                        <Player url={audioUrl}></Player>\n                    :\n                        null\n                }\n            </ListItem>\n            <Translations values={phrase} index={index}></Translations>\n        </div>\n    )\n}\n\nfunction Translations({values, index}){\n    const [selectedItem, setSelectedItem] = useState({index: -1, type: ''});\n\n    return _.map(values, (val, key) => {\n        if(key !== defaultKeyShow && key !== 'audio'){\n            let isSelected = selectedItem.index === index && selectedItem.type === key,\n                selectModel = {index: index, type: key};\n\n            return (\n                <ListItem className={`${isSelected ? 'selected' : ''}`} button onClick={()=>{setSelectedItem(isSelected ? {} : selectModel)}}>\n                    <ListItemIcon>\n                        <TranslateIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={`${isSelected ? val : key}`} />\n                    {   \n                        isSelected ?\n                            <VisibilityIcon/>\n                        :\n                            <VisibilityOffIcon/>\n                    }\n                </ListItem>\n            )\n        }\n    })\n}\n\nexport default Phrases;\n"]},"metadata":{},"sourceType":"module"}